<!DOCTYPE html>
<html>
<head lang="en">
    <meta charset="UTF-8">
    <title></title>
    <script src="/socket.io/socket.io.js"></script>
    <script src="client/util/js/lib/tpl.js"></script>
    <script src="client/util/js/util.js"></script>
    <script src="client/util/js/components/grid.js"></script>
    <script src="client/util/js/components/tree.js"></script>


    <link href="client/util/css/base.css" rel="stylesheet">
    <link href="client/util/css/grid.css" rel="stylesheet">
    <link href="client/util/css/tree.css" rel="stylesheet">
</head>
<body>

<header>
    <div>oma</div>
    <nav>
        <ul>
            <li>1</li>
        </ul>
    </nav>
</header>
<aside class="left">
</aside>
<article class="right">
</article>
<footer>
</footer>
<script>

    var socket = io.connect(msj.ip);
    var role = msj.role, event = msj.et;
    var me = {
        role: role.base,
        id: Math.random() * 1989
    };
    //发送登陆事件
    socket.emit(event.login, me);
    //登陆成功回调
    socket.on(event.loginSuccess, function (o) {
        if (o.id == me.id) {
            console.log('login success');
        }
    });

    socket.on(event.addDesk, function (desk) {
        console.log(desk);
    });
    var datas = [];
    for (var i = 0; i < 230; i++) {
        datas.push({
            cm: 'adqwd' + i,
            price: i + 10,
            count: 1,
            id: 'asdasd' + i,
            aa: Math.random(),
            bb: Math.random(),
            cc: Math.random()
        })
    }
    var grid = new Grid({
        parent: '.right',
        title: 'grid demo',
        fields: [
            {en: 'cm', cn: '菜名'},
            {en: 'price', sum: true, cn: '价钱'},
            {en: 'count', cn: '份数'},
            {en: 'aa', sum: true, cn: '测试1'},
            {en: 'bb', sum: true, cn: '测试2'},
            {en: 'cc', sum: true, cn: '测试3'}
        ],
        data: {list: datas},
        isQuery: false,
        height: 500,
        width: 1024,
        //是否启用多选
        isMulti: false,
        page: {
            count: 22
        }
    });

    var data = [
        {
            node: 'control',
            id: '9f2b5353-c3d4-168f-6bc9-9c734aa0d345',
            items: [
                {
                    name: 'hornbill/web/script-ss/cms/component/list',
                    text: 'list1',
                    id: '9f2b5353-c3d4-168f-6bc9-9c734aa0d23f'
                },
                {
                    name: 'hornbill/web/script-ss/cms/component/list2',
                    text: 'list2',
                    id: '9f2b5353-c3d4-168f-6bc9-9c734aa0d231'
                },
                {
                    name: 'hornbill/web/script-ss/cms/component/list3',
                    text: 'list3',
                    id: '9f2b5353-c3d4-168f-6bc9-9c734aa0d233'
                },
                {
                    name: 'hornbill/web/script-ss/cms/component/list4',
                    text: 'list4',
                    id: '9f2b5353-c3d4-168f-6bc9-9c734aa0d222'
                }
            ]
        },
        {
            node: 'control',
            id: '9f2b5353-c3d4-168f-6bc9-9c734aa0d345',
            items: [
                {
                    name: 'hornbill/web/script-ss/cms/component/list',
                    text: 'list1',
                    id: '9f2b5353-c3d4-168f-6bc9-9c734aa0d23f'
                },
                {
                    name: 'hornbill/web/script-ss/cms/component/list2',
                    text: 'list2',
                    id: '9f2b5353-c3d4-168f-6bc9-9c734aa0d231'
                },
                {
                    name: 'hornbill/web/script-ss/cms/component/list3',
                    text: 'list3',
                    id: '9f2b5353-c3d4-168f-6bc9-9c734aa0d233'
                },
                {
                    name: 'hornbill/web/script-ss/cms/component/list4',
                    text: 'list4',
                    id: '9f2b5353-c3d4-168f-6bc9-9c734aa0d222'
                }
            ]
        },
        {
            node: 'control',
            id: '9f2b5353-c3d4-168f-6bc9-9c734aa0d345',
            items: [
                {
                    name: 'hornbill/web/script-ss/cms/component/list',
                    text: 'list1',
                    id: '9f2b5353-c3d4-168f-6bc9-9c734aa0d23f'
                },
                {
                    name: 'hornbill/web/script-ss/cms/component/list2',
                    text: 'list2',
                    id: '9f2b5353-c3d4-168f-6bc9-9c734aa0d231'
                },
                {
                    name: 'hornbill/web/script-ss/cms/component/list3',
                    text: 'list3',
                    id: '9f2b5353-c3d4-168f-6bc9-9c734aa0d233'
                },
                {
                    name: 'hornbill/web/script-ss/cms/component/list4',
                    text: 'list4',
                    id: '9f2b5353-c3d4-168f-6bc9-9c734aa0d222'
                }
            ]
        }

    ]

    window.left = new Tree({
        dragStart: function (e) {
         //   e.dataTransfer.setData("type", e.target.dataset['name']);
            //  e.dataTransfer.setData("id", e.target.id);
            e.preventDefault();
            e.stopPropagation();
        },
        data: data,
        parent: '.left'

    });


</script>
</body>
</html>
<!DOCTYPE html>
<html>
<head lang="en">
    <meta charset="UTF-8">
    <title></title>
    <script src="/socket.io/socket.io.js"></script>

</head>
<body>

<button id="ad">加</button>

<script>
    var ip = 'http://localhost';
    var socket = io.connect(ip);
    //终端类型
    var role = {
        //显示设备
        monitor: 'monitor',
        //记账
        base: 'base',
        //终端，点菜器
        terminal: 'terminal'
    }

    //事件类型
    var ne = {
        addDesk: 'addDesk',
        login: 'login',
        loginSuccess: 'ls'

    }

    var me = {
        role: role.terminal,
        id: Math.random() * 1989
    }

    socket.emit(ne.login, me);
    socket.on(ne.loginSuccess, function (o) {
        if (o.id == me.id) {
            console.log(me);
        }
    })

    socket.on(ne.add, function (desk) {

    })
    document.querySelector('#ad').onclick = function () {
        socket.emit(ne.addDesk, {
            a: 1,
            b: 2
        });
    }


</script>
</body>
</html>